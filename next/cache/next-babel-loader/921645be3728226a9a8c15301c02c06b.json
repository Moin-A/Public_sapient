{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Head from \"next/head\";\nimport Filter from \"./Filter\";\nimport React, { Component } from \"react\";\nimport Details from \"./Details\";\nimport filter from \"./utils/filter\";\n\nvar Home = /*#__PURE__*/function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      launch_year: [],\n      newdata: [],\n      SelectedLaunchYear: \"\",\n      SelectedOptions: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFilter\", function (value) {\n      _this.setState({\n        SelectedOptions: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleyearchange\", function (value) {\n      _this.setState({\n        SelectedLaunchYear: value,\n        SelectedOptions: []\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        launch_year: this.props.launch_year,\n        newdata: _toConsumableArray(this.props.newdata)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          launch_year = _this$state.launch_year,\n          newdata = _this$state.newdata,\n          SelectedLaunchYear = _this$state.SelectedLaunchYear,\n          SelectedOptions = _this$state.SelectedOptions;\n      var filtered = SelectedLaunchYear ? newdata.filter(function (m) {\n        return m.launch_year == SelectedLaunchYear;\n      }) : newdata;\n      var secondfiltered = filter(filtered, SelectedOptions);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Head, null, /*#__PURE__*/React.createElement(\"html\", {\n        lang: \"en\"\n      }), /*#__PURE__*/React.createElement(\"meta\", {\n        name: \"og:type\",\n        content: \"website\"\n      }), /*#__PURE__*/React.createElement(\"meta\", {\n        name: \"description\",\n        content: \"spacex launch querry site\"\n      }), /*#__PURE__*/React.createElement(\"meta\", {\n        name: \"og:title\",\n        content: \"SpaceX Calender\"\n      }), /*#__PURE__*/React.createElement(\"meta\", {\n        name: \"description\",\n        content: \"SpaceX Calender\"\n      }), /*#__PURE__*/React.createElement(\"meta\", {\n        name: \"keywords\",\n        content: (\"SpaceX\", \"space\", \"rocket\")\n      }), /*#__PURE__*/React.createElement(\"title\", null, \"Create Next App\"), /*#__PURE__*/React.createElement(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"lightgrey\"\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid\"\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"m-4 m-4\"\n      }, \"SpaceX Launch programes \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-4 col-auto-sm-12 m-2 \"\n      }, /*#__PURE__*/React.createElement(Filter, {\n        launch_year: launch_year,\n        onYearChange: this.handleyearchange,\n        onOptionSelection: this.handleFilter\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-8 col-md-6 col-auto-sm-4 m-2 \"\n      }, /*#__PURE__*/React.createElement(Details, {\n        data: secondfiltered\n      }))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var res, data, filteredarray, launch_year, newdata;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"https://api.spacexdata.com/v3/launches?limit=100&amp;launch_success=true&amp;land_success=true&amp;launch_year=2014\");\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                data = _context.sent;\n                filteredarray = data.map(function (value) {\n                  return value.launch_year;\n                });\n                launch_year = Array.from(new Set(filteredarray));\n                newdata = Object.values(data);\n                return _context.abrupt(\"return\", {\n                  launch_year: launch_year,\n                  newdata: newdata\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}